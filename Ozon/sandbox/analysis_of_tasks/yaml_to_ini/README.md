# Разбор контеста Route 256

# Задача "YAML to INI"

## Условие задачи

Необходимо реализовать конвертер из формата YAML в формат INI. Каждый набор входных данных является корректным yaml-файлом со следующими ограничениями:

- yaml-файл состоит только из словарей произвольной вложенности.
- Табуляция обозначается ровно четырьмя символами пробела.
- Каждая строка содержит объявление словаря _(section:)_ или объявление пары «ключ-значение» _(key: value)_, где ключ и значение разделены символами двоеточия и пробелом.
- Все имена словарей, ключи и значения непустые, состоят из строчных латинских букв и имеют длину не больше 10.
- В каждом словаре все имена ключей и непосредственно вложенных словарей уникальны.
- В каждом словаре содержится как минимум одна пара «ключ- значение», либо на некотором уровне вложенности этого словаря содержится пара «ключ-значение». Иными словами, пустых словарей нет.

Преобразуйте эти yaml-файлы в формат INI.

- Пара «ключ-значение» форматируется как _key = value_, то есть ключ и значение разделены символами пробела, равно и пробела.
- Порядок вывода пар «ключ-значение» должен оставаться **строго** таким же, как в исходном yaml-файле.
- Перед каждой парой «ключ-значение» следует вывести путь до неё, то есть имена словарей в квадратных скобках, разделённые точкой.
- Если две или более подряд идущие пары «ключ-значение» имеют одинаковый путь, его следует вывести ровно один раз для всей группы пар «ключ-значение».
- Если путь до некоторой пары «ключ-значение» (или группы подряд идущих пар) пустой, то есть не содержит ни одного словаря, путь следует опустить.
- Все описания групп пар «ключ-значение» должны быть разделены одной пустой строкой.
- После вывода очередного ini-файла следует вывести одну пустую строку.

Гарантируется, что размер входных и выходных данных не превосходит 10 Мб.

## Входные данные

Каждый тест состоит из нескольких наборов входных данных.

Первая строка содержит целое число $t\ (1 <= t <= 100)\ -$ количество наборов входных данных. Далее следует описание наборов входных данных.

Первая строка каждого набора входных данных содержит целое число $n (1 <= n <= 2000)\ -$ количество строк с описанием YAML директорий.

Следующие $n$ строк каждого набора входных данных содержат описание YAML директорий.

Гарантируется, что размер входных данных не превосходит 10Мб.

## Выходные данные

Выведите ответ — число, количество зараженных файлов, которые нужно удалить.

Вирусный файл считается как зараженный файл. Ответ для первого теста равен 3: **kta.exe**, **kta.hack** и **cat.png.hack** являются зараженными файлами.

Любые внешние библиотеки использовать нельзя. Для работы с JSON в языке Go можно пользоваться библиотекой "encoding/json": https://pkg.go.dev/encoding/json.

### Пример 1

**Входные данные**\
2\
23\
{\
"dir": "root",\
"files": [".zshrc"],\
"folders": [\
{\
"dir": "desktop",\
"files": ["config.yaml"]\
},\
{\
"dir": "downloads",\
"files": ["cat.png.hack"],\
"folders": [\
{\
"dir": "kta",\
"files": [\
"kta.exe",\
"kta.hack"\
]\
}\
]\
}\
]\
}\
8\
{ "dir"\
:\
"awesomeproject"\
,\
"files" : [ "go.mod",\
"go.sum"\
],\
"folders":[{"dir":"cmd"}]}\
\
**Выходные данные**\
3\
0
